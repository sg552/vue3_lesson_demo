<html>
<head>
  <script src="https://cdn.jsdelivr.net/npm/vue@3.2.2"></script>
</head>

<body>
    <div id='app'>
        请输入您想打开的网址,       <br/>
        判断规则是：                 <br/>
        1. 务必以 "http://"开头     <br/>
        2. 不能是空字符串            <br/>
        <input v-model="url" placeholder="请输入 http:// 开头的字符串, 否则不会跳转" /> <br/>
        <br/>
        <a v-bind:href="this.url" @click='validate($event)' @click.prevent='show_message'> 点我确定 </a>
    </div>    
    <script>
    Vue.createApp({
        data() {
          return {
            url: ""
          }
        },
        methods: {
          validate: function(event){
            if(this.url.length == 0 || this.url.indexOf('http://') != 0){
              if(event){
                console.info("== prevented")
                event.preventDefault()
              }   
            }else{
              console.info("== it's OK")
            }
          },
          show_message: function(){
            alert("有问题。您输入的网址不符合规则，无法跳转")
            console.info("== in show_message, prevented")
          }
        }            
    }).mount('#app')
    </script>
</body>
</html>
